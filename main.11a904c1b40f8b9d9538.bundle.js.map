{"version":3,"sources":["webpack:///./src/Editor/Editor.tsx","webpack:///./.storybook/config.tsx","webpack:///./.storybook/style.scss?c3af","webpack:///./.storybook/style.scss","webpack:///./src sync \\.stories\\.tsx$","webpack:///./src/Editor/Editor.stories.tsx"],"names":["presets","webpage","newsletter","mjml","componentDidMount","onInit","id","blockManager","styleManager","storageManager","width","height","plugins","presetType","editor","init","container","fromElement","propPlugins","this","setState","componentWillUnmount","onDestroy","editors","filter","e","destroy","document","getElementById","innerHTML","render","children","defaultProps","blocks","components","Component","req","storyFn","loadStories","keys","forEach","module","api","content","__esModule","default","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_AT_RULE_IMPORT_0___","___CSS_LOADER_AT_RULE_IMPORT_1___","___CSS_LOADER_AT_RULE_IMPORT_2___","___CSS_LOADER_AT_RULE_IMPORT_3___","push","map","webpackContext","webpackContextResolve","__webpack_require__","o","Error","code","webpackContextKeys","Object","resolve","add","Default","Mounting","mount","setMountState","handleMountEditor","className","htmlType","type","onClick"],"mappings":"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","file":"main.11a904c1b40f8b9d9538.bundle.js","sourcesContent":["import GrapesJS from 'grapesjs';\nimport mjml from 'grapesjs-mjml';\nimport newsletter from 'grapesjs-preset-newsletter';\nimport webpage from 'grapesjs-preset-webpage';\nimport React from 'react';\n\nconst presets: any = {\n  webpage,\n  newsletter,\n  mjml,\n};\n\nexport interface EditorProps {\n  id?: string;\n\n  presetType?: 'webpage' | 'newsletter' | 'mjml';\n\n  plugins?: string[];\n\n  children?: React.ReactElement<any> | Array<React.ReactElement<any>>;\n\n  storageManager?: any;\n\n  blockManager?: any;\n\n  styleManager?: {};\n\n  width?: string | number;\n\n  height?: string | number;\n\n  components?: object[];\n\n  blocks?: object[];\n\n  onInit?(editor: any): void;\n\n  onDestroy?(editor: any): void;\n}\n\ninterface EditorState {\n  editor: any;\n}\n\nclass Editor extends React.Component<EditorProps, EditorState> {\n  public static defaultProps: EditorProps = {\n    id: 'grapesjs-react-editor',\n    presetType: 'newsletter',\n    plugins: [],\n    blocks: [],\n    blockManager: {},\n    storageManager: {},\n    styleManager: {},\n    width: 'auto',\n    height: '100vh',\n    components: [],\n  };\n\n  public componentDidMount(): void {\n    const {\n      onInit,\n      id,\n      blockManager,\n      styleManager,\n      storageManager,\n      width,\n      height,\n      plugins: propPlugins,\n      presetType,\n    } = this.props;\n\n    const editor = GrapesJS.init({\n      container: `#${id}`,\n      fromElement: true,\n      blockManager,\n      styleManager,\n      storageManager,\n      width,\n      height,\n      plugins: [\n        presets[presetType],\n        ...propPlugins,\n      ],\n    });\n\n    if (typeof onInit === 'function') {\n      onInit(editor);\n    }\n\n    this.setState({\n      editor,\n    });\n  }\n\n  public componentWillUnmount(): void {\n    const { editor } = this.state;\n    const {\n      onDestroy,\n      id,\n    } = this.props;\n    if (editor) {\n      if (typeof onDestroy === 'function') {\n        onDestroy(editor);\n      }\n      GrapesJS.editors = GrapesJS.editors.filter((e: any) => e !== editor);\n      editor.destroy();\n      if (document) {\n        const container: HTMLDivElement = document.getElementById(id) as HTMLDivElement;\n        if (container) {\n          container.innerHTML = '';\n        }\n      }\n    }\n  }\n\n  public render() {\n    const {\n      children,\n      id,\n    } = this.props;\n\n    return (\n      <div id={id}>\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default Editor;\n","import {addDecorator, configure} from '@storybook/react';\nimport Card from 'antd/lib/card';\nimport * as React from 'react';\nimport './style.scss';\n\n// automatically import all files ending in GrapesJS.stories.tsx\nconst req = require.context('../src', true, /\\.stories\\.tsx$/);\n\naddDecorator((storyFn) => (\n  <Card>\n    {storyFn()}\n  </Card>\n));\n\nfunction loadStories() {\n  req.keys()\n    .forEach(req);\n}\n\nconfigure(loadStories, module);\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/sass-loader/dist/cjs.js!./style.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../node_modules/css-loader/dist/cjs.js!antd/dist/antd.min.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_1___ = require(\"-!../node_modules/css-loader/dist/cjs.js!bootstrap/dist/css/bootstrap.min.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_2___ = require(\"-!../node_modules/css-loader/dist/cjs.js!codemirror/theme/monokai.css\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_3___ = require(\"-!../node_modules/css-loader/dist/cjs.js!grapesjs/dist/css/grapes.min.css\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_2___);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_3___);\n// Module\nexports.push([module.id, \"\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./Editor/Editor.stories.tsx\": 790\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 789;","import { storiesOf } from '@storybook/react';\nimport Button from 'antd/lib/button';\nimport * as React from 'react';\nimport Editor from './Editor';\n\nfunction Default() {\n  return (\n    <>\n      <Editor>\n        <div> Default editor content, drag some elements here!</div>\n      </Editor>\n    </>\n  );\n}\n\nfunction Mounting() {\n  const [mount, setMountState] = React.useState<boolean>(false);\n\n  const handleMountEditor = React.useCallback(\n    () => {\n      setMountState(!mount);\n    },\n    [mount],\n  );\n\n  return (\n    <>\n      <div className=\"mb-2\">\n        <Button htmlType=\"button\" type=\"primary\" onClick={handleMountEditor}>\n          {mount ? 'Unmount' : 'Mount'}\n        </Button>\n      </div>\n      {mount && (\n        <Editor/>\n      )}\n    </>\n  );\n}\n\nstoriesOf('Editor', module)\n  .add('Default', Default)\n  .add('Mounting', Mounting);\n"],"sourceRoot":""}